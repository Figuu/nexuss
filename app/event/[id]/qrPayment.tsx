import React from "react";
import { Alert, Image, Text, Touchable, TouchableOpacity } from "react-native";
import Modal from "react-native-modal";
import { SafeAreaView, View } from "react-native";
import WebView from "react-native-webview";
import * as FileSystem from "expo-file-system";
import * as MediaLibrary from "expo-media-library";

interface QrPaymentViewProps {
  visible: boolean;
  onClose: () => void; // Callback para cerrar el modal
}

const QrPaymentView: React.FC<QrPaymentViewProps> = ({ visible, onClose }) => {
  const base64Image = `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`;

  const saveImageToGallery = async (base64Image: string) => {
    try {
      // Request media library permissions
      const { status } = await MediaLibrary.requestPermissionsAsync();
      if (status !== "granted") {
        Alert.alert(
          "Permission Required",
          "We need access to your media library to save the image."
        );
        return;
      }

      // Define the file path and name
      const fileName = `${FileSystem.documentDirectory}image.png`;

      // Save the base64 image to a file
      await FileSystem.writeAsStringAsync(fileName, base64Image, {
        encoding: FileSystem.EncodingType.Base64,
      });

      // Save the file to the gallery
      const asset = await MediaLibrary.createAssetAsync(fileName);
      await MediaLibrary.createAlbumAsync("Download", asset, false);

      Alert.alert("Success", "Imagen guardada!");
    } catch (error) {
      console.error("Error");
      Alert.alert("Error", "Hubo un error al guardar la imagen.");
    }
  };

  return (
    <Modal
      animationIn="slideInUp"
      animationOut="slideOutDown"
      swipeDirection={"down"}
      isVisible={visible}
      onSwipeComplete={onClose}
      onBackdropPress={onClose}
      className="m-0 justify-end"
    >
      <SafeAreaView className="flex-1 bg-background rounded-t-3xl overflow-hidden mt-10 justify-between items-center">
        <View className="bg-background my-2 h-1 w-[40vw] rounded-full " />
        <View className="px-4 items-center">
          <Text className="text-white text-lg font-bold mb-4 text-center">
            Escanea este código QR
          </Text>
          <Image
            source={{ uri: `data:image/png;base64,${base64Image}` }}
            className="w-full aspect-square"
            resizeMode="contain"
          />
        </View>
        <View className="h-[20vh] w-max z-20 px-2">
          <TouchableOpacity
            onPress={() => saveImageToGallery(base64Image)}
            className="w-max bg-secondary p-4 rounded-xl"
          >
            <Text className="text-white text-center text-lg font-bold">
              Guardar en la galería
            </Text>
          </TouchableOpacity>
          <TouchableOpacity
            onPress={onClose}
            className="w-max bg-primary p-4 rounded-xl mt-2"
          >
            <Text className="text-white text-center text-lg font-bold">
              Atras
            </Text>
          </TouchableOpacity>
        </View>
      </SafeAreaView>
    </Modal>
  );
};

export default QrPaymentView;
